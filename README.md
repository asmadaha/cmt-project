# The Fragility of Trust: Modeling Cooperation and Defection in a Noisy Networked Prisoner's Dilemma

## Project Description

This project develops a computational model to study the evolution of cooperation in a population of interacting agents when interactions are subject to stochstic noise. The system is modeled as a repeated Prisoner's Dilemma played on a fixed network, where agents follow simple behavioral strategies and may make mistakes in executing intended actions.

The objective is to quantify how increasing noise levels influence: 

* short-term cooperation dynamics,
* long-term cooperation levels,
* the stability and breakdown of cooperative behavior.

The model includes four classical strategies: 
* ALLC - Always Cooperate
* ALLD - Always Defect
* TFT - Tit-for-Tat
* GRUD - Grudger

At each interaction, agents may unintentionally flip their intended action with probability p_noise, reflecting real-world execution errors and misunderstandings. After each round, agents update their strategies by imitating neighbors with higher payoffs.

The project combines: 
* C for the agent-based simulation,
* MATLAB for post-processing, analysis and visualization.


### Input files

There are no external user-provided inputs. 

All CSV files are generated automatically by the C simulation and saved in the "data/" directory.

Each CSV file contains : 
* time step index,
* fraction of cooperative actions at each time step,
* final strategy composition (appended at the end of the file).

### Output files

All outputs are generated automatically in the "results/" directory.

Three PNG figures are produced in "results/figures/":
  * coop_time_multiple_noise.png : cooperation dynamics over time for all noise levels on a single plot
  * final_coop_vs_noise.png : final cooperation fraction as a function of noise probability
  * coop_heatmap_time_noise.png : heatmap showing cooperation dynamics across time and noise levels

These figures are used in the final report. 

### Report

The final report is located at "docs/report.pdf".

It follows the required structure:
1. Deviations from project proposal
2. Introduction
3. Approach
4. Results
5. Conclusion and outlook
6. Authorship statement

## Running the program

### Dependencies

* GCC
* MATLAB (available on the SIE Ubuntu Linux VDI)

The project was developed on macOS and fully tested on the SIE Ubuntu Linux VDI. 

### Build

The project is designed to be fully reproducible on the SIE Ubuntu Linux VDI.

No manual compilation steps are required from the user.  
All compilation is handled automatically by the provided Bash script "run.sh".

Internally, the script compiles the C simulation using:

gcc -O3 -std=c11 src/c/pd_simulation.c -o bin/pd_simulation

The compiled executable is placed in the "bin/" directory.

The entire project, including compilation, simulation, data generation, and figure creation, can be reproduced from a single terminal command.

From the project root directory: bash run.sh

This automatically:
* Compiles the C simulation,
* Runs the simulation for all noise levels,
* Generates all CSV data files,
* Executes MATLAB in non-interactive mode,
* Produces all figures used in the report.

A fixed random seed is used to ensure exact reproducibility of results.

### Execute 

### Execute

The entire workflow (compilation, simulation, and figure generation) is fully automated.

From a terminal running Bash, execute the following commands:

git clone https://github.com/asmadaha/cmt-project.git  
cd cmt-project  
bash run.sh

This single command performs the following steps:

1. Compiles the C simulation code.
2. Runs the simulation for multiple noise values.
3. Generates CSV output files in the `data/` directory.
4. Runs MATLAB in non-interactive mode to analyze the data.
5. Saves all figures to the `results/figures/` directory.

No manual interaction with MATLAB is required.

## Contributors

Asma Daha : project design, C implementation, MATLAB analysis, visualization and report writing.

## Acknowledgments

### Data sources

All data are generated by the simulation model. No external datasets were used.

Conceptual inspiration and references are cited in the final report. 

### Code

The overall structure and implementation were developed specifically for this project.












